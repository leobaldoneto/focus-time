<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Focus Time</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>

<body class="bg-gray-100">
  <!-- Header -->
  <div class="bg-white p-4 flex justify-between items-center shadow">
    <!-- Left side: App Name -->
    <div class="text-xl font-bold">Focus Time</div>
    <!-- Right side: Settings, Dark Mode, and Language Selector -->
    <div class="flex space-x-4">
      <button id="settings-button" class="px-4 py-2 bg-gray-500 text-white rounded" aria-label="Settings">
        <i class="fas fa-cog"></i>
      </button>
      <button id="dark-mode-toggle" class="px-4 py-2 bg-gray-500 text-white rounded" aria-label="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
      </button>
      <!-- Language Selector -->
      <select id="language-selector" class="px-2 py-2 bg-gray-500 text-white rounded" aria-label="Language Selector">
        <option value="en">English</option>
        <option value="pt">PortuguÃªs</option>
      </select>
    </div>
  </div>

  <div class="text-center" id="app">
    <!-- Mode Buttons -->
    <div class="flex justify-center space-x-4 mb-4 mt-4">
      <button id="focus-time-button" class="mode-button px-4 py-2 text-red-500 hover:text-red-700"
        aria-label="Focus Time Mode">
        <i class="fas fa-clock mr-1"></i> Focus Time
      </button>
      <button id="short-break-button" class="mode-button px-4 py-2 text-green-500 hover:text-green-700"
        aria-label="Short Break Mode">
        <i class="fas fa-coffee mr-1"></i> Short Break
      </button>
      <button id="long-break-button" class="mode-button px-4 py-2 text-blue-500 hover:text-blue-700"
        aria-label="Long Break Mode">
        <i class="fas fa-umbrella-beach mr-1"></i> Long Break
      </button>
    </div>

    <!-- Daily Goal Progress Bar -->
    <div id="daily-progress-bar">
      <div id="daily-progress-bar-fill" style="width: 0%;"></div>
    </div>
    <div id="daily-goal-text" class="mb-2">0 of 0 Focus Time Sessions</div>

    <!-- Streak Indicator -->
    <div id="streak-indicator">
      <i class="fas fa-fire"></i>
      <span id="streak-text">0-day streak!</span>
    </div>

    <!-- Circular Timer Display -->
    <div class="progress-ring mb-4 mx-auto">
      <svg width="100%" height="100%">
        <circle id="progress-ring-circle-bg" stroke="#e6e6e6" stroke-width="10" fill="transparent" r="90" cx="100"
          cy="100"></circle>
        <circle id="progress-ring-circle" stroke="tomato" stroke-width="10" fill="transparent" r="90" cx="100" cy="100">
        </circle>
      </svg>
      <div id="timer-display" role="timer" aria-live="polite"
        class="text-6xl font-bold absolute top-0 left-0 w-full h-full flex items-center justify-center">
        25:00
      </div>
    </div>

    <!-- Start and Skip Buttons -->
    <div class="flex justify-center items-center space-x-4 mb-4">
      <button id="start-pause-button" class="px-4 py-2 bg-gray-800 text-white rounded" aria-label="Start Timer">
        <i class="fas fa-play mr-1"></i> Start
      </button>
      <button id="skip-button" class="px-4 py-2 bg-gray-800 text-white rounded" aria-label="Skip Timer">
        <i class="fas fa-forward"></i> Skip
      </button>
    </div>

    <!-- Visual Indicator for Completed Focus Time Sessions -->
    <div id="session-indicator"></div>

    <!-- Notification -->
    <div id="notification"></div>

    <!-- Task Input and History Log -->
    <div class="mb-4 px-4">
      <!-- Task Input -->
      <label for="task-input" class="sr-only">Task Input</label>
      <input id="task-input" type="text" placeholder="What are you working on?"
        class="mb-4 px-4 py-2 border rounded w-full max-w-2xl" aria-label="Task Input">
      <!-- Use a table to show the history -->
      <div class="overflow-x-auto">
        <table id="history-log"
          class="text-left mx-auto w-full max-w-2xl h-40 overflow-y-scroll border rounded p-2 bg-white">
          <thead>
            <tr>
              <th class="px-2 py-1 border-b">Type</th>
              <th class="px-2 py-1 border-b">Task</th>
              <th class="px-2 py-1 border-b">Start</th>
              <th class="px-2 py-1 border-b">Duration</th>
              <th class="px-2 py-1 border-b">Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- Entries will be appended here -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settings-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden"
    role="dialog" aria-modal="true" aria-labelledby="settings-modal-title">
    <div class="bg-white rounded-lg p-6 w-80 modal-content">
      <h2 id="settings-modal-title" class="text-xl font-bold mb-4">Settings</h2>
      <div class="mb-4">
        <label for="focus-time-input" class="block text-left mb-2">Focus Time (minutes):</label>
        <input id="focus-time-input" type="number" min="1" class="w-full border rounded px-2 py-1" value="25">
      </div>
      <div class="mb-4">
        <label for="short-break-time-input" class="block text-left mb-2">Short Break Time (minutes):</label>
        <input id="short-break-time-input" type="number" min="1" class="w-full border rounded px-2 py-1" value="5">
      </div>
      <div class="mb-4">
        <label for="long-break-time-input" class="block text-left mb-2">Long Break Time (minutes):</label>
        <input id="long-break-time-input" type="number" min="1" class="w-full border rounded px-2 py-1" value="15">
      </div>
      <div class="mb-4 flex items-center">
        <input id="continuous-mode-checkbox" type="checkbox" class="mr-2">
        <label for="continuous-mode-checkbox">Enable Continuous Focus Time Mode</label>
      </div>
      <div class="mb-4">
        <label for="break-multiplier-input" class="block text-left mb-2">Short Break Multiplier:</label>
        <input id="break-multiplier-input" type="number" step="0.1" min="0" class="w-full border rounded px-2 py-1"
          value="0.2">
      </div>
      <div class="mb-4">
        <label for="long-break-multiplier-input" class="block text-left mb-2">Long Break Multiplier:</label>
        <input id="long-break-multiplier-input" type="number" step="0.1" min="0" class="w-full border rounded px-2 py-1"
          value="0.2">
      </div>
      <div class="mb-4">
        <label for="sessions-before-long-break-input" class="block text-left mb-2">Sessions Before Long Break:</label>
        <input id="sessions-before-long-break-input" type="number" min="1" class="w-full border rounded px-2 py-1"
          value="4">
      </div>
      <div class="mb-4">
        <label for="daily-goal-input" class="block text-left mb-2">Daily Focus Time Goal:</label>
        <input id="daily-goal-input" type="number" min="1" class="w-full border rounded px-2 py-1" value="8">
      </div>
      <div class="mb-4 flex items-center">
        <input id="enable-webhook-checkbox" type="checkbox" class="mr-2">
        <label for="enable-webhook-checkbox">Enable Webhooks</label>
      </div>
      <div class="mb-4">
        <label for="webhook-url-input" class="block text-left mb-2">Webhook URL:</label>
        <input id="webhook-url-input" type="url" class="w-full border rounded px-2 py-1"
          placeholder="https://example.com/webhook">
      </div>
      <div class="mb-4 flex items-center">
        <input id="no-break-streak-weekends-checkbox" type="checkbox" class="mr-2">
        <label for="no-break-streak-weekends-checkbox">Don't Break Streak on Weekends</label>
      </div>
      <div class="mb-4">
        <button id="clear-history-button" class="px-4 py-2 bg-red-500 text-white rounded">Clear History</button>
      </div>
      <div class="mb-4">
        <button id="reset-app-button" class="px-4 py-2 bg-red-500 text-white rounded">Reset App</button>
      </div>
      <div class="flex justify-end space-x-2">
        <button id="close-settings-button" class="px-4 py-2 bg-gray-500 text-white rounded">Close</button>
        <button id="save-settings-button" class="px-4 py-2 bg-blue-500 text-white rounded">Save</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="app.js"></script>
</body>

</html>